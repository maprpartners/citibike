<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Storage Classes - Amazon EKS</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="home" href="#top" />
      <link rel="up" href="what-is-eks.html" title="What Is Amazon EKS?" />
      <link rel="prev" href="getting-started.html" title="Getting Started with Amazon EKS" />
      <link rel="next" href="eks-networking.html" title="Amazon EKS Networking" />
      <meta name="description" content="Amazon EKS clusters are not created with any storage classes. You must define storage classes for your cluster to use and you should define a default storage class for your persistent volume claims. For more information, see Storage Classes in the Kubernetes documentation." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="Amazon EKS" />
      <meta name="guide" content="User Guide" />
      <meta name="guide-locale" content="en_us" />
      <link rel="icon" type="image/ico" href="images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/eks/latest/userguide/storage-classes.html" />
      <link rel="stylesheet" type="text/css" href="css/jquery-ui.min.css" />
      <link rel="stylesheet" type="text/css" href="font/css/font-awesome.min.css" />
      <link rel="stylesheet" type="text/css" href="css/google-font.css" />
      <link id="code-style" rel="stylesheet" type="text/css" href="css/code/light.css" />
      <link rel="stylesheet" type="text/css" href="css/jquery-ui.theme.css" />
      <link rel="stylesheet" type="text/css" href="css/colorbox.css" />
      <link rel="stylesheet" type="text/css" href="css/awsdocs.css?v=20170615" /><script type="text/javascript" src="js/highlight.pack.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/jquery-ui.min.js"></script><script type="text/javascript" src="js/handlebars.js"></script><script type="text/javascript" src="js/jquery.colorbox.js"></script><script type="text/javascript" src="js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      <div xmlns:db="http://docbook.org/ns/docbook" id="aws-nav" class="aws-nav-header">
         <div class="aws-nav-header-left">
            <div class="aws-nav-logo">
               <!--aws_logo_105x39.png--><a href="http://aws.amazon.com"><img src="images/aws_logo_105x39.png" alt="Amazon Web Services" /></a></div>
         </div>
         <div id="aws-nav-header-right" class="aws-nav-header-right">
            <div class="aws-nav-cta-button-outer"><a id="aws-nav-cta-button" class="aws-nav-button" href="https://console.aws.amazon.com/console/home">Sign In to the Console</a></div>
            <div class="aws-nav-popover-trigger" data-dropdown="aws-nav-dropdown-lang"><select id="languageSelection" onchange="SelectLanguage()">
                  <option value="/de_de/eks/latest/userguide/storage-classes.html">Deutsch</option>
                  <option value="/en_us/eks/latest/userguide/storage-classes.html" selected="selected">English</option>
                  <option value="/es_es/eks/latest/userguide/storage-classes.html">Español</option>
                  <option value="/fr_fr/eks/latest/userguide/storage-classes.html">Français</option>
                  <option value="/it_it/eks/latest/userguide/storage-classes.html">Italiano</option>
                  <option value="/ja_jp/eks/latest/userguide/storage-classes.html">日本語</option>
                  <option value="/ko_kr/eks/latest/userguide/storage-classes.html">한국어</option>
                  <option value="/pt_br/eks/latest/userguide/storage-classes.html">Português</option>
                  <option value="/zh_cn/eks/latest/userguide/storage-classes.html">中文 (简体)</option>
                  <option value="/zh_tw/eks/latest/userguide/storage-classes.html">中文 (繁體)</option></select></div><a class="btn btn-pdf-link" id="pdf-link-top" href="eks-ug.pdf#storage-classes" target="_blank" style="background-image: url(&#34;images/Adobe_PDF_icon.png&#34;)" title="Open PDF"></a><div id="aws-nav-quicklinks-separator" class="aws-nav-quicklinks-separator">
               <div class="aws-nav-left"></div>
               <div class="aws-nav-right"></div>
            </div>
         </div>
         <div xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" id="topnav-flyout-menu-container">
            <ul id="topnav-flyout-menu"><script id="flyout-item-template" type="text/x-handlebars-template">           
                    {{#flyoutList}}
                    
                    <li>{{listItem}}
                        {{#if subList}}
                        <ul>
                            {{#subList}}
                            <li class="awsdocs-flyout-link-wrapper"><a href="{{target}}">{{text}}</a></li>
                            {{/subList}}
                        </ul>
                        {{/if}}
                    </li>
                    
                    {{/flyoutList}}
                </script></ul>
            <div id="topnav-flyout-menu-spacer"></div>
         </div>
      </div>
      <div id="content-container">
         <div id="left-column">
            <div id="left-col-header">
               <div xmlns:db="http://docbook.org/ns/docbook" id="left-col-top-content">
                  <div id="service-name">Amazon EKS </div>
                  <div id="search"><i id="search-icon" class="fa fa-search fa-2x"></i></div>
                  <div id="guide-info">User Guide
                     <div id="content-button"><i id="toggle-contents" class="fa fa-bars"></i></div>
                  </div>
               </div>
               <form id="finegrainedSearch" method="get" onsubmit="return searchFormSubmit(this);" action="/search/doc-search.html">
                  <div id="search-form"><select id="search-select" name="searchPath">
                        <option value="all">Entire Site</option>
                        <option value="AWSMarketplace">AMIs from AWS Marketplace</option>
                        <option value="amis">AMIs from All Sources</option>
                        <option value="articles">Articles &amp; Tutorials</option>
                        <option value="products_and_info">AWS Product Information</option>
                        <option value="case_studies">Case Studies</option>
                        <option value="customerapps">Customer Apps</option>
                        <option value="documentation">Documentation</option>
                        <option value="documentation-product">Documentation - This Product</option>
                        <option value="documentation-guide" selected="selected">Documentation - This Guide</option>
                        <option value="datasets">Public Data Sets</option>
                        <option value="releasenotes">Release Notes</option>
                        <option value="solution_providers">Partners</option>
                        <option value="code">Sample Code &amp; Libraries</option></select><br /><input id="search-query" name="searchQuery" type="text" placeholder="Search" /><input id="search-button" src="images/search-button.png" alt="Go" type="image" /></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="Amazon EKS" /><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="User Guide" /><input type="hidden" name="doc_locale" value="en_us" /></form>
            </div>
            <div id="toc">
               <ul class="awstoc">
                  <li class="awstoc leaf"><a class="awstoc" href="what-is-eks.html">What Is Amazon EKS?</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="preview-considerations.html">Preview Considerations</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="getting-started.html">Getting Started</a></li>
                  <li class="awstoc leaf"><a class="awstoc selected" href="storage-classes.html">Storage Classes</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="eks-networking.html">Networking</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="managing-users.html">Managing Cluster Authentication</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="service_limits.html">Service Limits</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="EKS-Doc-SubscribeTopic.html">Subscribing to EKS Doc Updates</a></li>
                  <li class="awstoc closed"><a class="awstoc" href="IAM_policies.html">IAM Policies, Roles, and Permissions</a><ul class="awstoc">
                        <li class="awstoc leaf"><a class="awstoc" href="iam-policy-structure.html">Policy Structure</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="EKS_IAM_user_policies.html">Creating IAM Policies</a></li>
                        <li class="awstoc leaf"><a class="awstoc" href="service_IAM_role.html">Amazon EKS Service IAM Role</a></li>
                     </ul>
                  </li>
                  <li class="awstoc leaf"><a class="awstoc" href="dashboard-tutorial.html">Tutorial: Deploy Kubernetes Dashboard</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="create-public-private-vpc.html">Tutorial: Creating a VPC for Amazon EKS</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="doc-history.html">Document History</a></li>
                  <li class="awstoc leaf"><a class="awstoc" href="glossary.html">AWS Glossary</a></li>
                  <li id="toc-additional-links"><a class="btn btn-pdf-link" id="pdf-link-alt" href="eks-ug.pdf#top" target="_blank" style="background-image: url(&#34;images/Adobe_PDF_icon.png&#34;)" title="Open PDF"></a></li>
               </ul>
            </div>
         </div>
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> » <a href="http://aws.amazon.com/documentation/eks">Amazon EKS</a> » <a href="index.html">User Guide</a> » <span class="breadcrumb">Storage Classes</span></div>
                           </td>
                        </tr>
                     </table>
                     <div>
                        <div id="awsdocs-banner-info">
                           <p><em><b>This prerelease documentation is
                                    confidential and is provided under the terms of your nondisclosure agreement with
                                    Amazon Web Services (AWS) or other agreement governing your receipt of AWS confidential
                                    information.</b></em></p>
                        </div>
                     </div>
                     <h1 class="topictitle" id="storage-classes">Storage Classes</h1>
                     <p>Amazon EKS clusters are not created with any storage classes. You must define storage
                        classes
                        for your cluster to use and you should define a default storage class for your persistent
                        volume claims. For more information, see <a href="https://kubernetes.io/docs/concepts/storage/storage-classes" target="_blank">Storage
                           Classes</a> in the Kubernetes documentation.
                     </p>
                     <p class="title"><b>To create an AWS storage class for your Amazon EKS cluster</b></p>
                     <ol>
                        <li>
                           
                           <p>Create an AWS storage class manifest file for your storage class. The below
                              example defines a storage class called <code class="code">gp2</code> that uses the Amazon EBS
                              <code class="code">gp2</code> volume type. For more information on the options available for
                              AWS storage classes, see <a href="https://kubernetes.io/docs/concepts/storage/storage-classes/#aws" target="_blank">AWS</a> in the Kubernetes documentation. For this example, the file is
                              called <code>gp2-storage-class.yaml</code>.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">kind: StorageClass
apiVersion: storage.k8s.io/v1
metadata:
  name: gp2
provisioner: kubernetes.io/aws-ebs
parameters:
  type: gp2
reclaimPolicy: Retain
mountOptions:
  - debug</code></pre>
                           </li>
                        <li>
                           
                           <p>Use <b>kubectl</b> to create the storage class from the manifest
                              file.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>kubectl create -f gp2-storage-class.yaml</code></strong></code></pre>
                           <p>Output:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">storageclass "gp2" created</code></pre>
                           </li>
                     </ol>
                     <p class="title"><b>To define a default storage class</b></p>
                     <ol>
                        <li>
                           
                           <p>List the existing storage classes for your cluster. A storage class must be
                              defined before you can set it as a default.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>kubectl get storageclass</code></strong></code></pre>
                           <p>Output:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">NAME      PROVISIONER             AGE
gp2       kubernetes.io/aws-ebs   8m
sc1       kubernetes.io/aws-ebs   6s</code></pre>
                           </li>
                        <li>
                           
                           <p>Choose a storage class and set it as your default by setting the
                              <code class="code">storageclass.kubernetes.io/is-default-class=true</code> annotation.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>kubectl patch storageclass <em class="replaceable"><code>gp2</code></em> -p '{"metadata": {"annotations":{"storageclass.kubernetes.io/is-default-class":"true"}}}'</code></strong></code></pre>
                           <p>Output:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">storageclass "gp2" patched</code></pre>
                           </li>
                        <li>
                           
                           <p>Verify that the storage class is now set as default.</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>kubectl get storageclass</code></strong></code></pre>
                           <p>Output:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">gp2 (default)   kubernetes.io/aws-ebs   12m
sc1             kubernetes.io/aws-ebs   4m</code></pre>
                           </li>
                     </ol>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="getting-started.html">« Previous </a><a class="awstoc" accesskey="n" href="eks-networking.html">Next »</a></div>
                     <div id="copyright-main-footer">© 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper"></div>
            </div>
         </div>
      </div>
      <div id="footer">
         <div id="footer_short_fb" class="hide" title="Feedback"><a target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=5a08f8e9-7260-49e4-bac3-ada98f265157&amp;topic_url=http://docs.aws.amazon.com/en_us/eks/latest/userguide/storage-classes.html&amp;hidden_guide_name=User Guide&amp;hidden_api_version=&amp;hidden_file_name=storage-classes"><i class="fa fa-envelope-o"></i></a></div>
         <div id="footer_toggle" class="mediaobject"><img id="footer_toggle_img" src="images/expanderarrow.png" /><img id="footer_toggle_img_collapse" class="hide" src="images/expanderarrowright.png" /></div>
         <div id="footer-left"><a target="_top" href="http://aws.amazon.com/terms">Terms of Use</a> | <a target="_top" href="http://aws.amazon.com/privacy">Privacy</a> | © 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.
         </div>
         <div id="footer-right">
            <div id="feedback">
               <div id="forums"></div>
               <div id="feedback-message">Did this page help you?</div>
               <div id="feedback-yesno-buttons"><a class="awstoc btn btn-default" target="_blank" href="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/eks/latest/userguide/storage-classes.html">Yes</a><a class="awstoc btn btn-default" target="_blank" href="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/eks/latest/userguide/storage-classes.html">No</a></div>
               <div id="feedback-feedback-button"><a class="awstoc btn btn-default" target="_blank" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?feedback_destination_id=5a08f8e9-7260-49e4-bac3-ada98f265157&amp;topic_url=http://docs.aws.amazon.com/en_us/eks/latest/userguide/storage-classes.html&amp;hidden_guide_name=User Guide&amp;hidden_api_version=&amp;hidden_file_name=storage-classes">Feedback</a></div>
            </div>
         </div>
      </div>
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon EKS';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   </body>
</html>